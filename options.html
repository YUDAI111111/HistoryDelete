<!doctype html>
<html lang="ja" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>設定 - History Cleaner</title>
  <link rel="stylesheet" href="options.css" />
</head>
<body>
  <main class="wrap">
    <h1>設定</h1>
    <p class="desc">UI と 自動削除のトリガー／スケジュールを設定します。</p>

    <section class="card">
      <h2>履歴削除の期間</h2>
      <form id="periodForm">
        <label class="row"><input type="radio" name="period" value="all" /> <span>全期間（注意：自動削除ONだと毎回全削除）</span></label>
        <label class="row"><input type="radio" name="period" value="1h" /> <span>直近1時間</span></label>
        <label class="row"><input type="radio" name="period" value="24h" /> <span>直近24時間</span></label>
        <label class="row"><input type="radio" name="period" value="7d" /> <span>直近7日</span></label>
        <label class="row"><input type="radio" name="period" value="30d" /> <span>直近30日</span></label>
        <div class="actions">
          <button id="savePeriod" type="submit">保存</button>
          <span id="periodStatus" aria-live="polite"></span>
        </div>
      </form>
    </section>

    <section class="card">
      <h2>テーマ</h2>
      <form id="themeForm">
        <label class="row"><input type="radio" name="theme" value="light" /> <span>ライト（デフォルト）</span></label>
        <label class="row"><input type="radio" name="theme" value="dark" /> <span>ダーク</span></label>
        <div class="actions">
          <button id="saveTheme" type="submit">保存</button>
          <span id="themeStatus" aria-live="polite"></span>
        </div>
      </form>
    </section>

    <section class="card">
      <h2>自動削除（トリガー）</h2>
      <form id="autoForm">
        <label class="row"><input type="checkbox" id="autoEnabled" /> <span>自動削除を有効にする</span></label>
        <div class="row">
          <label><input type="checkbox" id="autoStartup" /> Chrome起動時</label>
          <label><input type="checkbox" id="autoOnClose" /> すべてのウィンドウを閉じたとき</label>
        </div>
        <div class="row">
          <label><input type="checkbox" id="autoOnLock" /> 画面ロック時（Win+L 等）</label>
          <span style="font-size:12px;color:var(--muted)">chrome.idle を使用</span>
        </div>
        <div class="row">
          <select id="autoMode">
            <option value="none">（時間スケジュールなし）</option>
            <option value="interval">一定間隔で実行</option>
            <option value="daily">毎日指定時刻に実行</option>
          </select>
          <span style="font-size:12px;color:var(--muted)">期間設定に従って削除</span>
        </div>
        <div class="row" id="intervalRow">
          <label>間隔（分）</label>
          <input type="number" id="intervalMin" min="5" step="5" value="60" style="width:100px" />
        </div>
        <div class="row" id="dailyRow">
          <label>時刻（HH:MM）</label>
          <input type="time" id="dailyTime" value="03:00" />
        </div>
        <div class="actions">
          <button id="saveAuto" type="submit">保存</button>
          <span id="autoStatus" aria-live="polite"></span>
        </div>
      </form>
      <p class="desc">※ バッジは設定期間内の履歴数。100件以上は <b>99+</b> 表示。</p>
    </section>
  </main>

  <script type="module" src="options.init.js"></script>
  <script type="module" src="options.js"></script>
</body>
</html>
